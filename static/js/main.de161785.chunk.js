(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{25:function(e,t,n){e.exports=n(64)},30:function(e,t,n){},31:function(e,t,n){},64:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(13),i=n.n(o),c=(n(30),n(31),n(2)),l=n(3),s=n(7),u=n(4),d=n(6),p=n(5),f=n(1),h=f.a.div({display:"flex",flexDirection:"column",alignItems:"center",marginTop:"5%"}),b=f.a.div({width:"60%",display:"flex",justifyContent:"space-between"}),g=f.a.div({display:"flex",justifyContent:"center",alignItems:"center",background:"rgb(29,42,50)",color:"#bfbfbf",border:"2px solid ".concat("#bfbfbf"),borderRadius:"50px",height:"35px",width:"150px",fontFamily:"Roboto",fontWeight:"bold",fontSize:"17"}),m=function(e){return{type:"ADD_TRANSACTION_TO_STORE",transactions:e}},O={fetchApi:function(){return fetch("https://api.exchangeratesapi.io/latest/").then(function(e){return e.json()})}},T=f.a.div({display:"flex",justifyContent:"space-between",alignItems:"center",width:"325px"}),y=f.a.button(function(e){return{height:"40px",width:"150px",background:"transparent",border:e.deleteModeOn?e.apply?"2px solid green":"2px solid red":"2px solid ".concat("#bfbfbf"),outline:"none",fontWeight:"bold",color:"#bfbfbf",borderRadius:"50px",fontSize:"17",cursor:"pointer",transition:".5s",":hover":{background:"#bfbfbf",color:"rgb(29,42,50)"}}}),E=n(15),v=function(){try{return JSON.parse(localStorage.getItem("transactions"))}catch(e){console.log(e)}},x=function(){var e=v();return e.length?e[0].id+1:1},D=function(e){function t(){return Object(c.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"cancelDeletion",value:function(){this.props.switchDeleteMode(),this.props.clearIdTable()}},{key:"deleteTransactions",value:function(){var e;e=this.props.idTable,localStorage.setItem("transactions",JSON.stringify(v().filter(function(t){return!e.includes(t.id)}))),this.props.addTransactionToStore(v()),this.props.clearIdTable(),this.props.switchDeleteMode()}},{key:"renderButtons",value:function(){var e=this;return this.props.deleteModeOn?r.a.createElement(T,null,r.a.createElement(y,{apply:!0,deleteModeOn:this.props.deleteModeOn,onClick:function(){return e.deleteTransactions()}},"apply"),r.a.createElement(y,{deleteModeOn:this.props.deleteModeOn,apply:!1,onClick:function(){return e.cancelDeletion()}},"cancel")):r.a.createElement(T,null,r.a.createElement(y,{onClick:function(){return e.props.toogleModal()}},"new"),r.a.createElement(y,{onClick:function(){return e.props.switchDeleteMode()}},"delete"))}},{key:"render",value:function(){return this.renderButtons()}}]),t}(a.Component),j=Object(p.b)(function(e){return{deleteModeOn:e.deleteModeOn,idTable:e.idTable,transaction:e.transactions,isModalOpen:e.isModalOpen}},function(e){return{switchDeleteMode:function(t){return e({type:"SWITCH_DELETE_MODE"})},clearIdTable:function(t){return e(function(e){return{type:"CLEAR_ID_TABLE",id:e}}(t))},addTransactionToStore:function(t){return e(m(t))},toogleModal:function(t){return e({type:"TOOGLE_MODAL"})}}})(D),w=function(e){function t(){return Object(c.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"fetchApi",value:function(){var e=this;this.props.isApiLoading(),O.fetchApi().then(function(t){e.props.setPlnRate(t.rates.PLN.toFixed(2)),e.props.isApiLoading()},function(t){console.log(t),e.props.isApiLoading()})}},{key:"componentDidMount",value:function(){this.fetchApi()}},{key:"render",value:function(){return r.a.createElement(b,null,r.a.createElement(j,null),r.a.createElement(g,null,"1\u20ac = ",this.props.plnRate,"PLN"))}}]),t}(a.Component),_=Object(p.b)(function(e){return{apiLoading:e.apiLoading,plnRate:e.plnRate}},function(e){return{isApiLoading:function(t){return e({type:"IS_API_LOADING"})},setPlnRate:function(t){return e(function(e){return{type:"SET_PLN_RATE",plnRate:e}}(t))}}})(w),M=f.a.div({marginTop:"15px",display:"flex",flexDirection:"column",justifyContent:"center",width:"60%",marginBottom:"100px"}),k=f.a.div({width:"100%"}),I=f.a.div({display:"flex",justifyContent:"flex-end"}),S=f.a.div({display:"flex",justifyContent:"flex-end",alignItems:"center",padding:"0 20px",height:"80px",width:"15.5%",color:"#bfbfbf"}),A=f.a.div({position:"absolute",zIndex:0,top:0,left:0,background:"rgba(0,0,0,.15)",height:"100%",width:"100%"}),N=f.a.div(function(e){return{cursor:"pointer",display:"flex",justifyContent:"space-between",background:e.isDeleteModeOn?"rgba(221,221,221,.3)":"transparent",transform:e.shouldBeDeleted?"scale(0.9)":null,alignItems:"center",margin:e.isDeleteModeOn?"10px 0 ":null,color:"#bfbfbf",transition:".5s",":hover":{background:"rgba(95, 108, 117,.3)"}}}),R=f.a.div(function(e){return{display:"flex",justifyContent:"price"===e.type?"flex-end":"flex-start",alignItems:"center",padding:"0 20px",borderBottom:"1px solid rgba(95, 108, 117,.1)",width:!0===e.longer?"40%":"14%",height:"80px",overflow:"hidden"}}),C=(f.a.button({textAlign:"center",border:"none",outline:"none",width:"20px",marginRight:"5px"}),function(e){function t(){return Object(c.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"countPlnValue",value:function(){return(this.props.transaction.euroValue*this.props.plnRate).toFixed(2)}},{key:"addTransactionIdToDelete",value:function(e){this.props.deleteModeOn&&(-1===this.props.idTable.indexOf(e)?this.props.addTransactionIdToDelete(e):this.props.deleteTransactionIdFromTable(e))}},{key:"render",value:function(){var e=this,t=this.props.transaction;return r.a.createElement(N,{onClick:function(){return e.addTransactionIdToDelete(t.id)},isDeleteModeOn:this.props.deleteModeOn,shouldBeDeleted:-1!==this.props.idTable.indexOf(t.id)},r.a.createElement(R,null,t.transactionDate),r.a.createElement(R,{longer:!0},t.transactionName),r.a.createElement(R,{type:"price"},t.euroValue," EUR"),r.a.createElement(R,{type:"price"},this.countPlnValue()," PLN"))}}]),t}(a.Component)),L=Object(p.b)(function(e){return{plnRate:e.plnRate,deleteModeOn:e.deleteModeOn,idTable:e.idTable}},function(e){return{addTransactionIdToDelete:function(t){return e(function(e){return{type:"ADD_TRANSACTION_ID_TO_DELETE",id:e}}(t))},deleteTransactionIdFromTable:function(t){return e(function(e){return{type:"DELETE_TRANSACTION_ID_FROM_TABLE",id:e}}(t))}}})(C),V=f.a.form(function(e){return{overflow:"hidden",height:"45%",width:"20%",position:"absolute",zIndex:999,left:"40%",marginTop:e.isModalOpen?0:"-50%",transition:".75s",display:"flex",flexDirection:"column",justifyContent:"space-around",alignItems:"center",fontSize:20,borderRadius:"5px",border:"1px solid ".concat("#bfbfbf"),background:"rgb(29,42,50)",color:"#bfbfbf"}}),B=f.a.textarea({height:"20%",maxHeight:"60%",width:"60%",maxWidth:"90%",padding:"20px",fontSize:"20px",color:"#bfbfbf",border:"1px solid ".concat("#bfbfbf"),borderRadius:"10px",boxShadow:"2px 2px 5px rgba(0,0,0,0.5),inset 5px 5px 8px rgba(0,0,0,0.5)",background:"rgba(221,221,221,.3)",outline:"none"}),F=f.a.input(function(e){return{height:"30px",width:"name"===e.type?"35%":"100px",background:"transparent",color:"#bfbfbf",fontWeight:"bold",outline:"none",margin:"0 10px",padding:"0 20px",transition:".3s",border:"none",borderBottom:"1px solid ".concat("#bfbfbf"),":focus":{border:"1px solid ".concat("#bfbfbf"),borderRadius:"50px"}}}),P=f.a.div({display:"flex",justifyContent:"space-between",alignItems:"center",width:"325px"}),W=function(){var e=new Date,t=z(),n=e.getMonth()+1,a=e.getFullYear();return t+". "+(e.getDate()>9?e.getDate():"0"+e.getDate())+".0"+n+"."+a},z=function(){switch((new Date).getDay()){case 0:return"Sun";case 1:return"Mon";case 2:return"Tue";case 3:return"Wed";case 4:return"Thu";case 5:return"Fri";case 6:return"Sat";default:return}},G=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(s.a)(this,Object(u.a)(t).call(this))).state={transactionName:"",transactionValue:0,transactionDate:""},e}return Object(d.a)(t,e),Object(l.a)(t,[{key:"clearState",value:function(){this.setState({transactionName:"",transactionValue:0})}},{key:"setTransactionName",value:function(e){this.setState({transactionName:e.target.value})}},{key:"setTransactionValue",value:function(e){this.setState({transactionValue:parseFloat(e.target.value)})}},{key:"setTransactionDate",value:function(){this.setState({transactionDate:W()})}},{key:"addTransaction",value:function(e){var t,n,a;e.preventDefault(),this.state.transactionName&&this.state.transactionValue&&(t=this.state.transactionName,n=this.state.transactionValue.toFixed(2),a=this.state.transactionDate,localStorage.setItem("transactions",JSON.stringify([{id:v()&&x(),transactionName:t,euroValue:n,transactionDate:a}].concat(Object(E.a)(v()))))),this.props.addTransactionToStore(v()),this.props.toogleModal(),this.clearState()}},{key:"closeModal",value:function(e){e.preventDefault(),this.props.toogleModal(),this.clearState()}},{key:"componentDidMount",value:function(){this.setTransactionDate()}},{key:"render",value:function(){var e=this;return r.a.createElement(V,{isModalOpen:this.props.isModalOpen},"Transaction name",r.a.createElement(B,{type:"name",value:this.state.transactionName,onChange:function(t){return e.setTransactionName(t)}}),r.a.createElement("div",null,"Value",r.a.createElement(F,{type:"number",min:"0",value:this.state.transactionValue,placeholder:"EUR",onChange:function(t){return e.setTransactionValue(t)}})),r.a.createElement(P,null,r.a.createElement(y,{onClick:function(t){return e.addTransaction(t)}},"add"),r.a.createElement(y,{onClick:function(t){return e.closeModal(t)}},"cancel")))}}]),t}(a.Component),J=Object(p.b)(function(e){return{transactions:e.transactions,isModalOpen:e.isModalOpen}},function(e){return{addTransactionToStore:function(t){return e(m(t))},toogleModal:function(t){return e({type:"TOOGLE_MODAL"})}}})(G),U=f.a.div({display:"flex",justifyContent:"space-between",marginBottom:"5px",height:"50px",width:"100%",background:"rgba(95, 108, 117,.3)",color:"#bfbfbf"}),X=f.a.div(function(e){return{display:"flex",justifyContent:"price"===e.type?"flex-end":"flex-start",alignItems:"center",padding:"0 20px",width:!0===e.longer?"40%":"14%",overflow:"hidden"}}),H=function(e){function t(){return Object(c.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement(U,null,r.a.createElement(X,null,"Date"),r.a.createElement(X,{longer:!0},"Transaction name"),r.a.createElement(X,{type:"price"},"EUR"),r.a.createElement(X,{type:"price"},"PLN"))}}]),t}(a.Component),Y=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(s.a)(this,Object(u.a)(t).call(this))).state={transactionName:"",transactionValue:null,transactions:[]},e}return Object(d.a)(t,e),Object(l.a)(t,[{key:"renderTransactions",value:function(){return this.props.transactions&&this.props.transactions.map(function(e,t){return r.a.createElement(L,{transaction:e,key:t})})}},{key:"sumTransactionsValue",value:function(){for(var e=this.props.transactions,t=0,n=0;n<e.length;n++)t+=Number(e[n].euroValue);return t}},{key:"render",value:function(){var e=this;return r.a.createElement(M,null,this.props.isModalOpen&&r.a.createElement(A,{onClick:function(){return e.props.toogleModal()}}),r.a.createElement(J,null),r.a.createElement(k,null,r.a.createElement(H,null),this.renderTransactions()),r.a.createElement(I,null,r.a.createElement(S,null,this.sumTransactionsValue().toFixed(2)," EUR"),r.a.createElement(S,null,(this.sumTransactionsValue()*this.props.plnRate).toFixed(2)," PLN")))}}]),t}(a.Component),$=Object(p.b)(function(e){return{plnRate:e.plnRate,transactions:e.transactions,isModalOpen:e.isModalOpen}},function(e){return{toogleModal:function(t){return e({type:"TOOGLE_MODAL"})}}})(Y),q=function(e){function t(){return Object(c.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){v()||localStorage.setItem("transactions",JSON.stringify([])),this.props.addTransactionToStore(v())}},{key:"render",value:function(){return r.a.createElement(h,null,r.a.createElement(_,null),r.a.createElement($,null))}}]),t}(a.Component),K=Object(p.b)(function(e){return{transactions:e.transactions}},function(e){return{addTransactionToStore:function(t){return e(m(t))}}})(q);var Q=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(K,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Z=n(9),ee=Object(Z.b)({apiLoading:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];switch((arguments.length>1?arguments[1]:void 0).type){case"IS_API_LOADING":return!e;default:return e}},plnRate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_PLN_RATE":return t.plnRate;default:return e}},deleteModeOn:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];switch((arguments.length>1?arguments[1]:void 0).type){case"SWITCH_DELETE_MODE":return!e;default:return e}},idTable:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_TRANSACTION_ID_TO_DELETE":return[].concat(Object(E.a)(e),[t.id]);case"DELETE_TRANSACTION_ID_FROM_TABLE":return e.filter(function(e){return e!==t.id});case"CLEAR_ID_TABLE":return e.filter(function(e){return!e});default:return e}},transactions:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_TRANSACTION_TO_STORE":return t.transactions;default:return e}},isModalOpen:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];switch((arguments.length>1?arguments[1]:void 0).type){case"TOOGLE_MODAL":return!e;default:return e}}}),te=Object(Z.c)(ee,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());i.a.render(r.a.createElement(p.a,{store:te},r.a.createElement(Q,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[25,1,2]]]);
//# sourceMappingURL=main.de161785.chunk.js.map